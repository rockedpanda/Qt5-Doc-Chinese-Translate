<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- wince-customization.qdoc -->
  <title>Windows CE - Using shadow builds | QtDoc 5.3</title>
  <link rel="stylesheet" type="text/css" href="style/offline.css" />
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="index.html">Qt 5.3</a></li>
<li>Windows CE - Using shadow builds</li>
<li id="buildversion">
Qt 5.3.1 Reference Documentation</li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<h1 class="title">Windows CE - Using shadow builds</h1>
<span class="subtitle"></span>
<!-- $$$shadow-description -->
<div class="descr"> <a name="details"></a>
<p>While developing for Windows CE you might want to compile a version of Qt for several different platforms and SDKs. In order to create those different builds of Qt you do not have to copy the whole Qt package or the Qt source. You are able to create multiple Qt builds from a single source tree. Such builds are called shadow builds.</p>
<p>Basically a shadow build is created by calling configure.exe from a different directory.</p>
<p>To make sure that the shadow build compiles correctly it is important that you following these guidelines:</p>
<ul>
<li>The original Qt source package must be left untouched - configure must never have been run in the source tree directory.</li>
<li>With Qt5, the code has to be checked out of the git repository, otherwise the out of source build will fail as syncqt is not executed.</li>
<li>Avoid using &quot;release&quot; and &quot;debug&quot; in the path to the shadow build directory. (This is an internal limitation of the build system.)</li>
<li>Perl has been installed on your system. (<a href="http://www.activestate.com/Products/activeperl/index.mhtml">ActivePerl</a> is a popular distribution of Perl on Windows.)</li>
</ul>
<p>So lets assume you have installed Qt in <tt>C:\Qt\5.3&#x2e;1</tt> and you want to create a shadow build in <tt>C:\Qt\mobile5-shadow</tt>:</p>
<ul>
<li>Make sure the environment variables for your compiler are set.<p>Visual Studio includes <tt>vcvars32.bat</tt> for that purpose - or simply use the &quot;Visual Studio Command Prompt&quot; from the Start menu.</p>
</li>
<li>Now navigate to your shadow build directory and run configure:<pre class="cpp">cd c:\<span class="type"><a href="../qtcore/qt.html">Qt</a></span>\mobile5<span class="operator">-</span>shadow
C:\<span class="type"><a href="../qtcore/qt.html">Qt</a></span>\<span class="number">5.3.1</span>\configure<span class="operator">.</span>exe <span class="operator">-</span>xplatform wincewm50pocket<span class="operator">-</span>msvc2005 <span class="operator">-</span>prefix <span class="operator">%</span>INSTALLDIR<span class="operator">%</span></pre>
</li>
<li>Finally, to build the shadow build type:<pre class="cpp">nmake</pre>
</li>
<li>That's all. You have successfully created a shadow build of Qt in <tt>C:\Qt\mobile5-shadow</tt>.</li>
<li>Now you can call <tt>nmake install</tt> and get a clean installation of Qt in <i>%INSTALLDIR%</i>.</li>
</ul>
</div>
<!-- @@@shadow -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2014 Digia Plc and/or its
   subsidiaries. Documentation contributions included herein are the copyrights of
   their respective owners.<br>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br>    Digia, Qt and their respective logos are trademarks of Digia Plc     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
