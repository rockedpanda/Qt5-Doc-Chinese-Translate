<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qwebsecurityorigin.cpp -->
  <title>QWebSecurityOrigin Class | QtWebKit 5.3</title>
  <link rel="stylesheet" type="text/css" href="style/offline.css" />
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html">Qt 5.3</a></li>
<li>QWebSecurityOrigin</li>
<li id="buildversion">
Qt 5.3.1 Reference Documentation</li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#static-public-members">Static Public Members</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">QWebSecurityOrigin Class</h1>
<!-- $$$QWebSecurityOrigin-brief -->
<p>The QWebSecurityOrigin class defines a security boundary for web sites. <a href="#details">More...</a></p>
<!-- @@@QWebSecurityOrigin -->
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> </b><tt><span class="preprocessor">#include &lt;QWebSecurityOrigin&gt;</span>
</tt></td></tr><tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> <tt>QT += webkitwidgets</tt></td></tr><tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign">  Qt 4.5</td></tr></table><ul>
<li><a href="qwebsecurityorigin-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h2>Public Types</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#SubdomainSetting-enum">SubdomainSetting</a></b> { AllowSubdomains, DisallowSubdomains }</td></tr>
</table>
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#QWebSecurityOrigin">QWebSecurityOrigin</a></b>(const QUrl &amp;<i> url</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#QWebSecurityOrigin-2">QWebSecurityOrigin</a></b>(const QWebSecurityOrigin &amp;<i> other</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#dtor.QWebSecurityOrigin">~QWebSecurityOrigin</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#addAccessWhitelistEntry">addAccessWhitelistEntry</a></b>(const QString &amp;<i> scheme</i>, const QString &amp;<i> host</i>, SubdomainSetting<i> subdomainSetting</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qint64 </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#databaseQuota">databaseQuota</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qint64 </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#databaseUsage">databaseUsage</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QList&lt;QWebDatabase&gt; </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#databases">databases</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#host">host</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#port">port</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#removeAccessWhitelistEntry">removeAccessWhitelistEntry</a></b>(const QString &amp;<i> scheme</i>, const QString &amp;<i> host</i>, SubdomainSetting<i> subdomainSetting</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#scheme">scheme</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#setApplicationCacheQuota">setApplicationCacheQuota</a></b>(qint64<i> quota</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#setDatabaseQuota">setDatabaseQuota</a></b>(qint64<i> quota</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QWebSecurityOrigin &amp; </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#operator-eq">operator=</a></b>(const QWebSecurityOrigin &amp;<i> other</i>)</td></tr>
</table>
<a name="static-public-members"></a>
<h2>Static Public Members</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#addLocalScheme">addLocalScheme</a></b>(const QString &amp;<i> scheme</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QList&lt;QWebSecurityOrigin&gt; </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#allOrigins">allOrigins</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QStringList </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#localSchemes">localSchemes</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebsecurityorigin.html#removeLocalScheme">removeLocalScheme</a></b>(const QString &amp;<i> scheme</i>)</td></tr>
</table>
<a name="details"></a>
<!-- $$$QWebSecurityOrigin-description -->
<div class="descr">
<h2>Detailed Description</h2>
<p>The QWebSecurityOrigin class defines a security boundary for web sites.</p>
<p>QWebSecurityOrigin provides access to the security domains defined by web sites. An origin consists of a host name, a scheme, and a port number. Web sites with the same security origin can access each other's resources for client-side scripting or databases.</p>
<p>For example the site <tt>http://www.example.com/my/page.html</tt> is allowed to share the same database as <tt>http://www.example.com/my/overview.html</tt>, or access each other's documents when used in HTML frame sets and JavaScript. At the same time it prevents <tt>http://www.malicious.com/evil.html</tt> from accessing <tt>http://www.example.com/</tt>'s resources, because they are of a different security origin.</p>
<p>By default local schemes like <tt>file://</tt> and <tt>qrc://</tt> are concidered to be in the same security origin, and can access each other's resources. You can add additional local schemes by using <a href="qwebsecurityorigin.html#addLocalScheme">QWebSecurityOrigin::addLocalScheme</a>(), or override the default same-origin behavior by setting <a href="qwebsettings.html#WebAttribute-enum">QWebSettings::LocalContentCanAccessFileUrls</a> to <tt>false</tt>.</p>
<p><b>Note: </b>Local resources are by default restricted from accessing remote content, which means your <tt>file://</tt> will not be able to access <tt>http://domain.com/foo.html</tt>. You can relax this restriction by setting <a href="qwebsettings.html#WebAttribute-enum">QWebSettings::LocalContentCanAccessRemoteUrls</a> to <tt>true</tt>.</p><p>Call <a href="qwebframe.html#securityOrigin">QWebFrame::securityOrigin</a>() to get the QWebSecurityOrigin for a frame in a web page, and use <a href="qwebsecurityorigin.html#host">host</a>(), <a href="qwebsecurityorigin.html#scheme">scheme</a>() and <a href="qwebsecurityorigin.html#port">port</a>() to identify the security origin.</p>
<p>Use <a href="qwebsecurityorigin.html#databases">databases</a>() to access the databases defined within a security origin. The disk usage of the origin's databases can be limited with <a href="qwebsecurityorigin.html#setDatabaseQuota">setDatabaseQuota</a>(). <a href="qwebsecurityorigin.html#databaseQuota">databaseQuota</a>() and <a href="qwebsecurityorigin.html#databaseUsage">databaseUsage</a>() report the current limit as well as the current usage.</p>
<p>For more information refer to the <a href="http://en.wikipedia.org/wiki/Same_origin_policy">&quot;Same origin policy&quot; Wikipedia Article</a>.</p>
</div>
<p><b>See also </b><a href="qwebframe.html#securityOrigin">QWebFrame::securityOrigin</a>().</p>
<!-- @@@QWebSecurityOrigin -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$SubdomainSetting$$$AllowSubdomains$$$DisallowSubdomains -->
<h3 class="fn"><a name="SubdomainSetting-enum"></a>enum QWebSecurityOrigin::<span class="name">SubdomainSetting</span></h3>
<!-- @@@SubdomainSetting -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QWebSecurityOrigin[overload1]$$$QWebSecurityOriginconstQUrl& -->
<h3 class="fn"><a name="QWebSecurityOrigin"></a>QWebSecurityOrigin::<span class="name">QWebSecurityOrigin</span>(const <span class="type"><a href="../qtcore/qurl.html">QUrl</a></span> &amp;<i> url</i>)</h3>
<p>Allows contruction of QWebSecurityOrigin() as per the specified <i>url</i>.</p>
<!-- @@@QWebSecurityOrigin -->
<!-- $$$QWebSecurityOrigin$$$QWebSecurityOriginconstQWebSecurityOrigin& -->
<h3 class="fn"><a name="QWebSecurityOrigin-2"></a>QWebSecurityOrigin::<span class="name">QWebSecurityOrigin</span>(const <span class="type">QWebSecurityOrigin</span> &amp;<i> other</i>)</h3>
<p>Constructs a security origin from <i>other</i>.</p>
<!-- @@@QWebSecurityOrigin -->
<!-- $$$~QWebSecurityOrigin[overload1]$$$~QWebSecurityOrigin -->
<h3 class="fn"><a name="dtor.QWebSecurityOrigin"></a>QWebSecurityOrigin::<span class="name">~QWebSecurityOrigin</span>()</h3>
<p>Destroys the security origin.</p>
<!-- @@@~QWebSecurityOrigin -->
<!-- $$$addAccessWhitelistEntry[overload1]$$$addAccessWhitelistEntryconstQString&constQString&SubdomainSetting -->
<h3 class="fn"><a name="addAccessWhitelistEntry"></a><span class="type">void</span> QWebSecurityOrigin::<span class="name">addAccessWhitelistEntry</span>(const <span class="type"><a href="../qtcore/qstring.html">QString</a></span> &amp;<i> scheme</i>, const <span class="type"><a href="../qtcore/qstring.html">QString</a></span> &amp;<i> host</i>, <span class="type"><a href="qwebsecurityorigin.html#SubdomainSetting-enum">SubdomainSetting</a></span><i> subdomainSetting</i>)</h3>
<p>Allows the origin to access the specified <i>host</i> using the specified <i>scheme</i>. Specifying <a href="qwebsecurityorigin.html#SubdomainSetting-enum">AllowSubdomains</a> in <i>subdomainSetting</i> will allow the source origin to access the <i>host</i>'s subdomains as well, whereas passing <a href="qwebsecurityorigin.html#SubdomainSetting-enum">DisallowSubdomains</a> would prevent this.</p>
<p>Such cross origin requests are otherwise restricted as per the same-origin-policy.</p>
<!-- @@@addAccessWhitelistEntry -->
<!-- $$$addLocalScheme[overload1]$$$addLocalSchemeconstQString& -->
<h3 class="fn"><a name="addLocalScheme"></a><span class="type">void</span> QWebSecurityOrigin::<span class="name">addLocalScheme</span>(const <span class="type"><a href="../qtcore/qstring.html">QString</a></span> &amp;<i> scheme</i>)<tt> [static]</tt></h3>
<p>Adds the given <i>scheme</i> to the list of schemes that are considered equivalent to the <tt>file</tt>: scheme.</p>
<p>Cross domain restrictions depend on the two web settings <a href="qwebsettings.html#WebAttribute-enum">QWebSettings::LocalContentCanAccessFileUrls</a> and <a href="qwebsettings.html#WebAttribute-enum">QWebSettings::LocalContentCanAccessFileUrls</a>. By default all local schemes are concidered to be in the same security origin, and local schemes can not access remote content.</p>
<p>This function was introduced in  Qt 4.6.</p>
<!-- @@@addLocalScheme -->
<!-- $$$allOrigins[overload1]$$$allOrigins -->
<h3 class="fn"><a name="allOrigins"></a><span class="type"><a href="../qtcore/qlist.html">QList</a></span>&lt;<span class="type">QWebSecurityOrigin</span>&gt; QWebSecurityOrigin::<span class="name">allOrigins</span>()<tt> [static]</tt></h3>
<p>Returns a list of all security origins with a database quota defined.</p>
<!-- @@@allOrigins -->
<!-- $$$databaseQuota[overload1]$$$databaseQuota -->
<h3 class="fn"><a name="databaseQuota"></a><span class="type"><a href="../qtcore/qtglobal.html#qint64-typedef">qint64</a></span> QWebSecurityOrigin::<span class="name">databaseQuota</span>() const</h3>
<p>Returns the quota for the databases in the security origin.</p>
<p><b>See also </b><a href="qwebsecurityorigin.html#setDatabaseQuota">setDatabaseQuota</a>().</p>
<!-- @@@databaseQuota -->
<!-- $$$databaseUsage[overload1]$$$databaseUsage -->
<h3 class="fn"><a name="databaseUsage"></a><span class="type"><a href="../qtcore/qtglobal.html#qint64-typedef">qint64</a></span> QWebSecurityOrigin::<span class="name">databaseUsage</span>() const</h3>
<p>Returns the number of bytes all databases in the security origin use on the disk.</p>
<!-- @@@databaseUsage -->
<!-- $$$databases[overload1]$$$databases -->
<h3 class="fn"><a name="databases"></a><span class="type"><a href="../qtcore/qlist.html">QList</a></span>&lt;<span class="type"><a href="qwebdatabase.html">QWebDatabase</a></span>&gt; QWebSecurityOrigin::<span class="name">databases</span>() const</h3>
<p>Returns a list of all databases defined in the security origin.</p>
<!-- @@@databases -->
<!-- $$$host[overload1]$$$host -->
<h3 class="fn"><a name="host"></a><span class="type"><a href="../qtcore/qstring.html">QString</a></span> QWebSecurityOrigin::<span class="name">host</span>() const</h3>
<p>Returns the host name defining the security origin.</p>
<!-- @@@host -->
<!-- $$$localSchemes[overload1]$$$localSchemes -->
<h3 class="fn"><a name="localSchemes"></a><span class="type"><a href="../qtcore/qstringlist.html">QStringList</a></span> QWebSecurityOrigin::<span class="name">localSchemes</span>()<tt> [static]</tt></h3>
<p>Returns a list of all the schemes concidered to be local.</p>
<p>By default this is <tt>file://</tt> and <tt>qrc://</tt>.</p>
<p>This function was introduced in  Qt 4.6.</p>
<p><b>See also </b><a href="qwebsecurityorigin.html#addLocalScheme">addLocalScheme</a>() and <a href="qwebsecurityorigin.html#removeLocalScheme">removeLocalScheme</a>().</p>
<!-- @@@localSchemes -->
<!-- $$$port[overload1]$$$port -->
<h3 class="fn"><a name="port"></a><span class="type">int</span> QWebSecurityOrigin::<span class="name">port</span>() const</h3>
<p>Returns the port number defining the security origin.</p>
<!-- @@@port -->
<!-- $$$removeAccessWhitelistEntry[overload1]$$$removeAccessWhitelistEntryconstQString&constQString&SubdomainSetting -->
<h3 class="fn"><a name="removeAccessWhitelistEntry"></a><span class="type">void</span> QWebSecurityOrigin::<span class="name">removeAccessWhitelistEntry</span>(const <span class="type"><a href="../qtcore/qstring.html">QString</a></span> &amp;<i> scheme</i>, const <span class="type"><a href="../qtcore/qstring.html">QString</a></span> &amp;<i> host</i>, <span class="type"><a href="qwebsecurityorigin.html#SubdomainSetting-enum">SubdomainSetting</a></span><i> subdomainSetting</i>)</h3>
<p>Removes the origin's whitelisted access to the specified <i>host</i> using the specified <i>scheme</i> as per the specified <i>subdomainSetting</i>.</p>
<!-- @@@removeAccessWhitelistEntry -->
<!-- $$$removeLocalScheme[overload1]$$$removeLocalSchemeconstQString& -->
<h3 class="fn"><a name="removeLocalScheme"></a><span class="type">void</span> QWebSecurityOrigin::<span class="name">removeLocalScheme</span>(const <span class="type"><a href="../qtcore/qstring.html">QString</a></span> &amp;<i> scheme</i>)<tt> [static]</tt></h3>
<p>Removes the given <i>scheme</i> from the list of local schemes.</p>
<p><b>Note: </b>You can not remove the <tt>file://</tt> scheme from the list of local schemes.</p><p>This function was introduced in  Qt 4.6.</p>
<p><b>See also </b><a href="qwebsecurityorigin.html#addLocalScheme">addLocalScheme</a>().</p>
<!-- @@@removeLocalScheme -->
<!-- $$$scheme[overload1]$$$scheme -->
<h3 class="fn"><a name="scheme"></a><span class="type"><a href="../qtcore/qstring.html">QString</a></span> QWebSecurityOrigin::<span class="name">scheme</span>() const</h3>
<p>Returns the scheme defining the security origin.</p>
<!-- @@@scheme -->
<!-- $$$setApplicationCacheQuota[overload1]$$$setApplicationCacheQuotaqint64 -->
<h3 class="fn"><a name="setApplicationCacheQuota"></a><span class="type">void</span> QWebSecurityOrigin::<span class="name">setApplicationCacheQuota</span>(<span class="type"><a href="../qtcore/qtglobal.html#qint64-typedef">qint64</a></span><i> quota</i>)</h3>
<!-- @@@setApplicationCacheQuota -->
<!-- $$$setDatabaseQuota[overload1]$$$setDatabaseQuotaqint64 -->
<h3 class="fn"><a name="setDatabaseQuota"></a><span class="type">void</span> QWebSecurityOrigin::<span class="name">setDatabaseQuota</span>(<span class="type"><a href="../qtcore/qtglobal.html#qint64-typedef">qint64</a></span><i> quota</i>)</h3>
<p>Sets the quota for the databases in the security origin to <i>quota</i> bytes.</p>
<p>If the quota is set to a value less than the current usage, the quota will remain and no data will be purged to meet the new quota. However, no new data can be added to databases in this origin.</p>
<p><b>See also </b><a href="qwebsecurityorigin.html#databaseQuota">databaseQuota</a>().</p>
<!-- @@@setDatabaseQuota -->
<!-- $$$operator=[overload1]$$$operator=constQWebSecurityOrigin& -->
<h3 class="fn"><a name="operator-eq"></a><span class="type">QWebSecurityOrigin</span> &amp; QWebSecurityOrigin::<span class="name">operator=</span>(const <span class="type">QWebSecurityOrigin</span> &amp;<i> other</i>)</h3>
<p>Assigns the <i>other</i> security origin to this.</p>
<!-- @@@operator= -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2014 Digia Plc and/or its
   subsidiaries. Documentation contributions included herein are the copyrights of
   their respective owners.<br>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br>    Digia, Qt and their respective logos are trademarks of Digia Plc     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
