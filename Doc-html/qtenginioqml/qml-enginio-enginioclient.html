<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- enginioqmlclient.cpp -->
  <title>EnginioClient QML Type | QtEnginioQml 1.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline.css" />
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtenginiooverview/enginio-index.html">Enginio Manual</a></li>
<li><a href="enginio-qml-types-and-examples.html">Enginio QML Types and Examples</a></li>
<li>EnginioClient QML Type</li>
<li id="buildversion">
Enginio 1.0.5 Reference Documentation</li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#properties">Properties</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#methods">Methods</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">EnginioClient QML Type</h1>
<span class="subtitle"></span>
<!-- $$$EnginioClient-brief -->
<p>Client interface to access Enginio service <a href="#details">More...</a></p>
<!-- @@@EnginioClient -->
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> Import Statement:</td><td class="memItemRight bottomAlign"> </b><tt>import Enginio 1.0</tt></td></tr><tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign">  Qt 5.3</td></tr></table><ul>
<li><a href="qml-enginio-enginioclient-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="properties"></a>
<h2>Properties</h2>
<ul>
<li class="fn"><b><b><a href="qml-enginio-enginioclient.html#authenticationState-prop">authenticationState</a></b></b> : Enginio::AuthenticationState</li>
<li class="fn"><b><b><a href="qml-enginio-enginioclient.html#backendId-prop">backendId</a></b></b> : string</li>
<li class="fn"><b><b><a href="qml-enginio-enginioclient.html#identity-prop">identity</a></b></b> : EnginioIdentity</li>
</ul>
<a name="signals"></a>
<h2>Signals</h2>
<ul>
<li class="fn"><b><b><a href="qml-enginio-enginioclient.html#error-signal">error</a></b></b>(QJSValue <i>reply</i>)</li>
<li class="fn"><b><b><a href="qml-enginio-enginioclient.html#finished-signal">finished</a></b></b>(QJSValue <i>reply</i>)</li>
<li class="fn"><b><b><a href="qml-enginio-enginioclient.html#sessionAuthenticated-signal">sessionAuthenticated</a></b></b>(QJSValue <i>reply</i>)</li>
<li class="fn"><b><b><a href="qml-enginio-enginioclient.html#sessionAuthenticationError-signal">sessionAuthenticationError</a></b></b>(QJSValue <i>reply</i>)</li>
<li class="fn"><b><b><a href="qml-enginio-enginioclient.html#sessionTerminated-signal">sessionTerminated</a></b></b>()</li>
</ul>
<a name="methods"></a>
<h2>Methods</h2>
<ul>
<li class="fn">EnginioReply <b><b><a href="qml-enginio-enginioclient.html#create-method">create</a></b></b>(QJSValue <i>object</i>, Operation <i>operation</i>)</li>
<li class="fn">EnginioReply <b><b><a href="qml-enginio-enginioclient.html#downloadUrl-method">downloadUrl</a></b></b>(QJSValue <i>object</i>)</li>
<li class="fn">EnginioReply <b><b><a href="qml-enginio-enginioclient.html#fullTextSearch-method">fullTextSearch</a></b></b>(QJSValue <i>query</i>)</li>
<li class="fn">EnginioReply <b><b><a href="qml-enginio-enginioclient.html#query-method">query</a></b></b>(QJSValue <i>query</i>, Operation <i>operation</i>)</li>
<li class="fn">EnginioReply <b><b><a href="qml-enginio-enginioclient.html#remove-method">remove</a></b></b>(QJSValue <i>query</i>, Operation <i>operation</i>)</li>
<li class="fn">EnginioReply <b><b><a href="qml-enginio-enginioclient.html#update-method">update</a></b></b>(QJSValue <i>query</i>, Operation <i>operation</i>)</li>
<li class="fn">EnginioReply <b><b><a href="qml-enginio-enginioclient.html#uploadFile-method">uploadFile</a></b></b>(QJSValue <i>object</i>, QUrl <i>file</i>)</li>
</ul>
<!-- $$$EnginioClient-description -->
<a name="details"></a>
<h2>Detailed Description</h2>
<a name="enginioclientqml"></a><pre class="qml">import Enginio 1.0</pre>
<p>EnginioClient is the heart of the QML API for Enginio. It is used for all communication with the Enginio backend. <a href="qml-enginio-enginiomodel.html">EnginioModel</a> compliments it to make handling of multiple objects simple.</p>
<p>The backend is identified by <a href="qml-enginio-enginioclient.html#backendId-prop">backend ID</a>.</p>
<pre class="qml"><span class="type">EnginioClient</span> {
    <span class="name">id</span>: <span class="name">client</span>
    <span class="name">backendId</span>: <span class="string">&quot;YOUR_BACKEND_ID&quot;</span> <span class="comment">// from Enginio Dashboard</span>
}</pre>
<p>Once the backend is configured, it is possible to run queries by calling query on EnginioClient. For example to get all objects stored with the type &quot;objects.image&quot; run this query:</p>
<pre class="qml"><span class="type">EnginioClient</span> {
    <span class="comment">// ...</span>
    <span class="name">Component</span>.onCompleted: <span class="name">query</span>({&quot;objectType&quot;: <span class="string">&quot;objects.image&quot;</span>})
}</pre>
<p>EnginioClient gives you a convenient way to handle the responses to your queryies as well:</p>
<pre class="qml"><span class="type">EnginioClient</span> {
    <span class="comment">// ...</span>
    <span class="name">onFinished</span>: <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;Engino request finished.&quot;</span> <span class="operator">+</span> <span class="name">reply</span>.<span class="name">data</span>)
    <span class="name">onError</span>: <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;Enginio error &quot;</span> <span class="operator">+</span> <span class="name">reply</span>.<span class="name">errorCode</span> <span class="operator">+</span> <span class="string">&quot;: &quot;</span> <span class="operator">+</span> <span class="name">reply</span>.<span class="name">errorString</span>)
}</pre>
<!-- @@@EnginioClient -->
<h2>Property Documentation</h2>
<!-- $$$authenticationState -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlPropNode"><p><a name="authenticationState-prop"></a><span class="name">authenticationState</span> : <span class="type">Enginio::AuthenticationState</span></p></td></tr></table></div><div class="qmldoc"><p>The state of the authentication.</p>
<p>Enginio provides convenient user management. The authentication state reflects whether the current user is authenticated.</p>
<p><b>See also </b><a href="qml-enginio-enginioclient.html#identity-prop">identity</a> and <a href="../qtenginio/enginiooauth2authentication.html">EnginioOAuth2Authentication</a>.</p>
</div></div><!-- @@@authenticationState -->
<br/>
<!-- $$$backendId -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlPropNode"><p><a name="backendId-prop"></a><span class="name">backendId</span> : <span class="type"><a href="../qtqml/qml-string.html">string</a></span></p></td></tr></table></div><div class="qmldoc"><p>Enginio backend ID. This can be obtained from the Enginio dashboard.</p>
</div></div><!-- @@@backendId -->
<br/>
<!-- $$$identity -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlPropNode"><p><a name="identity-prop"></a><span class="name">identity</span> : <span class="type"><a href="../qtenginio/enginioidentity.html">EnginioIdentity</a></span></p></td></tr></table></div><div class="qmldoc"><p>Property that represents a user. Setting the property will create an asynchronous authentication request, the result of it updates <a href="qml-enginio-enginioclient.html#authenticationstate">authenticationState</a></p>
<p>It is allowed to assign a null pointer to the property to terminate the session.</p>
<p><b>See also </b><a href="qml-enginio-enginioclient.html#authenticationState-prop">authenticationState</a>, <a href="qml-enginio-enginioclient.html#sessionAuthenticated-signal">sessionAuthenticated</a>, <a href="qml-enginio-enginioclient.html#sessionAuthenticationError-signal">sessionAuthenticationError</a>, and <a href="../qtenginio/enginiooauth2authentication.html">EnginioOAuth2Authentication</a>.</p>
</div></div><!-- @@@identity -->
<br/>
<h2>Signal Documentation</h2>
<!-- $$$error -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlFuncNode"><p><a name="error-signal"></a><span class="name">error</span>(<span class="type"><a href="../qtqml/qjsvalue.html">QJSValue</a></span><i> reply</i>)</p></td></tr></table></div><div class="qmldoc"><p>This signal is emitted when a <i>reply</i> finishes and contains an error.</p>
</div></div><!-- @@@error -->
<br/>
<!-- $$$finished -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlFuncNode"><p><a name="finished-signal"></a><span class="name">finished</span>(<span class="type"><a href="../qtqml/qjsvalue.html">QJSValue</a></span><i> reply</i>)</p></td></tr></table></div><div class="qmldoc"><p>This signal is emitted when a <i>reply</i> finishes.</p>
<p><b>Note: </b>that this signal is alwasy emitted, independent of whether the reply finished successfully or not.</p></div></div><!-- @@@finished -->
<br/>
<!-- $$$sessionAuthenticated -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlFuncNode"><p><a name="sessionAuthenticated-signal"></a><span class="name">sessionAuthenticated</span>(<span class="type"><a href="../qtqml/qjsvalue.html">QJSValue</a></span><i> reply</i>)</p></td></tr></table></div><div class="qmldoc"><p>Emitted when a user logs in.</p>
<p>The signal is emitted after a user was successfully logged into the backend. From that point on, all communication with the backend will be using these credentials. The <i>reply</i> contains the information about the login and the user, the details may be different depending on used authentication method, but a typical reply may look like that:</p>
<pre class="cpp">{
  <span class="string">&quot;access_token&quot;</span>: <span class="string">&quot;...&quot;</span><span class="operator">,</span>              <span class="comment">// oauth2 access token</span>
  <span class="string">&quot;refresh_token&quot;</span>: <span class="string">&quot;...&quot;</span><span class="operator">,</span>             <span class="comment">// oauth2 refresh token</span>
  <span class="string">&quot;token_type&quot;</span>: <span class="string">&quot;bearer&quot;</span><span class="operator">,</span>             <span class="comment">// oauth2 token type</span>
  <span class="string">&quot;expires_in&quot;</span>: <span class="number">28799</span><span class="operator">,</span>                <span class="comment">// oautth2 token expiry date</span>
  <span class="string">&quot;enginio_data&quot;</span>: {
    <span class="string">&quot;user&quot;</span>: {
      <span class="string">&quot;id&quot;</span>: <span class="string">&quot;...&quot;</span><span class="operator">,</span>                    <span class="comment">// this user Id</span>
      <span class="string">&quot;createdAt&quot;</span>: <span class="string">&quot;...&quot;</span><span class="operator">,</span>             <span class="comment">// when the user was created</span>
      <span class="string">&quot;creator&quot;</span>: {                    <span class="comment">// who created the user</span>
        <span class="string">&quot;id&quot;</span>: <span class="string">&quot;creatorId&quot;</span><span class="operator">,</span>
        <span class="string">&quot;objectType&quot;</span>: <span class="string">&quot;users&quot;</span>
      }<span class="operator">,</span>
      <span class="string">&quot;email&quot;</span>: <span class="string">&quot;user@user.com&quot;</span><span class="operator">,</span>       <span class="comment">// the user's email address</span>
      <span class="string">&quot;firstName&quot;</span>: <span class="string">&quot;John&quot;</span><span class="operator">,</span>            <span class="comment">// the user's first name</span>
      <span class="string">&quot;lastName&quot;</span>: <span class="string">&quot;Foo&quot;</span><span class="operator">,</span>              <span class="comment">// the user's last name</span>
      <span class="string">&quot;objectType&quot;</span>: <span class="string">&quot;users&quot;</span><span class="operator">,</span>
      <span class="string">&quot;updatedAt&quot;</span>: <span class="string">&quot;2013-11-25T14:54:58.957Z&quot;</span><span class="operator">,</span>
      <span class="string">&quot;username&quot;</span>: <span class="string">&quot;JohnFoo&quot;</span>           <span class="comment">// the user's login</span>
    }<span class="operator">,</span>
    <span class="string">&quot;usergroups&quot;</span>: <span class="operator">[</span><span class="operator">]</span>                  <span class="comment">// usergroups to which the user belongs</span>
  }
}</pre>
<p><b>See also </b><a href="qml-enginio-enginioclient.html#sessionauthenticationerror">EnginioClient::sessionAuthenticationError()</a>, <a href="qml-enginio-enginioreply.html">EnginioReply</a>, and <a href="../qtenginio/enginiooauth2authentication.html">EnginioOAuth2Authentication</a>.</p>
</div></div><!-- @@@sessionAuthenticated -->
<br/>
<!-- $$$sessionAuthenticationError -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlFuncNode"><p><a name="sessionAuthenticationError-signal"></a><span class="name">sessionAuthenticationError</span>(<span class="type"><a href="../qtqml/qjsvalue.html">QJSValue</a></span><i> reply</i>) const</p></td></tr></table></div><div class="qmldoc"><p>Emitted when a user login fails.</p>
<p>The <i>reply</i> contains the details about why the login failed.</p>
<p><b>See also </b><a href="qml-enginio-enginioclient.html#sessionauthenticated">EnginioClient::sessionAuthenticated()</a>, <a href="qml-enginio-enginioreply.html">EnginioReply</a>, <a href="../qtenginio/enginioclientconnection.html#identity-prop">EnginioClientConnection::identity</a>, and <a href="../qtenginio/enginiooauth2authentication.html">EnginioOAuth2Authentication</a>.</p>
</div></div><!-- @@@sessionAuthenticationError -->
<br/>
<!-- $$$sessionTerminated -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlFuncNode"><p><a name="sessionTerminated-signal"></a><span class="name">sessionTerminated</span>() const</p></td></tr></table></div><div class="qmldoc"><p>Emitted when a user logs out.</p>
<p><b>See also </b><a href="../qtenginio/enginiooauth2authentication.html">EnginioOAuth2Authentication</a>.</p>
</div></div><!-- @@@sessionTerminated -->
<br/>
<h2>Method Documentation</h2>
<!-- $$$create -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlFuncNode"><p><a name="create-method"></a><span class="type"><a href="qml-enginio-enginioreply.html">EnginioReply</a></span> <span class="name">create</span>(<span class="type"><a href="../qtqml/qjsvalue.html">QJSValue</a></span><i> object</i>, <span class="type">Operation</span><i> operation</i>)</p></td></tr></table></div><div class="qmldoc"><p>Insert a new <i>object</i> into the database.</p>
<p>The returned <a href="qml-enginio-enginioreply.html">EnginioReply</a> indicates the success of the object creation. The object becomes available from the backend if it finishes without errors.</p>
<p><i>operation</i> determines the kind of object created. For example a regular object or a user or usergroup. By default, Enginio::ObjectOperation is used and regular objects created.</p>
<p><b>Note: </b>that the <tt>objectType</tt> is required for regular objects and has to begin with <tt>&quot;objects.&quot;</tt>.</p><p>The JSON for the object that will be created must follow this structure:</p>
<pre class="cpp">{
    <span class="string">&quot;objectType&quot;</span>: <span class="string">&quot;object.myType&quot;</span><span class="operator">,</span>
    <span class="string">&quot;name&quot;</span> : <span class="string">&quot;A thing&quot;</span><span class="operator">,</span>
    <span class="string">&quot;price&quot;</span> : <span class="string">&quot;5&quot;</span><span class="operator">,</span>
}</pre>
<p>Where only the <tt>objectType</tt> property is required and <tt>name</tt> and <tt>price</tt> are examples of custom properties.</p>
<p>Users and all kinds of other objects are created the same way but do not require any <tt>objectType</tt>.</p>
<p>To create a new user:</p>
<pre class="qml">var <span class="name">reply</span> = <span class="name">enginioClient</span>.<span class="name">create</span>(
            { &quot;username&quot;: <span class="name">login</span>.<span class="name">text</span>,
              &quot;password&quot;: <span class="name">password</span>.<span class="name">text</span>,
              &quot;email&quot;: <span class="name">userEmail</span>.<span class="name">text</span>,
              &quot;firstName&quot;: <span class="name">userFirstName</span>.<span class="name">text</span>,
              &quot;lastName&quot;: <span class="name">userLastName</span>.<span class="name">text</span>
            }, <span class="name">Enginio</span>.<span class="name">UserOperation</span>)</pre>
<p>To add a new member to a usergroup, the JSON needs to look like the example below.</p>
<pre class="cpp">  {
      <span class="string">&quot;id&quot;</span>: <span class="string">&quot;groupId&quot;</span><span class="operator">,</span>
      <span class="string">&quot;member&quot;</span>: { <span class="string">&quot;id&quot;</span>: <span class="string">&quot;userId&quot;</span><span class="operator">,</span> <span class="string">&quot;objectType&quot;</span>: <span class="string">&quot;users&quot;</span> }
  }</pre>
<p>Returns an <a href="qml-enginio-enginioreply.html">EnginioReply</a> containing the status and data once it is finished.</p>
<p><b>See also </b><a href="qml-enginio-enginioreply.html">EnginioReply</a>, <a href="qml-enginio-enginioclient.html#query-method">query()</a>, <a href="qml-enginio-enginioclient.html#update-method">update()</a>, <a href="qml-enginio-enginioclient.html#remove-method">remove()</a>, and Enginio::Operation.</p>
</div></div><!-- @@@create -->
<br/>
<!-- $$$downloadUrl -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlFuncNode"><p><a name="downloadUrl-method"></a><span class="type"><a href="qml-enginio-enginioreply.html">EnginioReply</a></span> <span class="name">downloadUrl</span>(<span class="type"><a href="../qtqml/qjsvalue.html">QJSValue</a></span><i> object</i>)</p></td></tr></table></div><div class="qmldoc"><p>Get the download URL for a file</p>
<pre class="qml">var <span class="name">downloadData</span> = {
    &quot;id&quot;: <span class="name">uploadReply</span>.<span class="name">data</span>.<span class="name">id</span>,
}
var <span class="name">downloadReply</span> = <span class="name">enginio</span>.<span class="name">downloadUrl</span>(<span class="name">downloadData</span>)</pre>
<p>The response contains the download URL and the duration how long the URL will be valid.</p>
<pre class="cpp">downloadReply<span class="operator">.</span>data<span class="operator">.</span>expiringUrl
downloadReply<span class="operator">.</span>data<span class="operator">.</span>expiresAt</pre>
<p><b>See also </b><a href="qml-enginio-enginioclient.html#uploadFile-method">uploadFile()</a>.</p>
</div></div><!-- @@@downloadUrl -->
<br/>
<!-- $$$fullTextSearch -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlFuncNode"><p><a name="fullTextSearch-method"></a><span class="type"><a href="qml-enginio-enginioreply.html">EnginioReply</a></span> <span class="name">fullTextSearch</span>(<span class="type"><a href="../qtqml/qjsvalue.html">QJSValue</a></span><i> query</i>)</p></td></tr></table></div><div class="qmldoc"><p>Perform a full text search on the database</p>
<p>The <i>query</i> is an object sent to the backend to perform a fulltext search. Note that the search requires the searched properties to be indexed (on the server, configureable in the backend).</p>
<p>Returns <a href="qml-enginio-enginioreply.html">EnginioReply</a> containing the status and the result once it is finished.</p>
<p><b>See also </b><a href="qml-enginio-enginioreply.html">EnginioReply</a>, <a href="qml-enginio-enginioclient.html#create">EnginioClient::create()</a>, <a href="qml-enginio-enginioclient.html#query">EnginioClient::query()</a>, <a href="qml-enginio-enginioclient.html#update">EnginioClient::update()</a>, <a href="qml-enginio-enginioclient.html#remove">EnginioClient::remove()</a>, and <a href="https://engin.io/documentation/rest/parameters/fulltext_query">JSON request structure</a>.</p>
</div></div><!-- @@@fullTextSearch -->
<br/>
<!-- $$$query -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlFuncNode"><p><a name="query-method"></a><span class="type"><a href="qml-enginio-enginioreply.html">EnginioReply</a></span> <span class="name">query</span>(<span class="type"><a href="../qtqml/qjsvalue.html">QJSValue</a></span><i> query</i>, <span class="type">Operation</span><i> operation</i>)</p></td></tr></table></div><div class="qmldoc"><p>Query the database</p>
<p>The <i>query</i> is an object containing the actual query to the backend. The query will be run on the <i>operation</i> part of the backend.</p>
<p>The <i>query</i> has to contain an &quot;objectType&quot; which has to point to a type defined in the backend. Optionally, it can also contain:</p>
<ul>
<li>query - describes how objects are queried, allows filtering of results. See {https://engin.io/documentation/rest/parameters/queries} {JSON query structure}</li>
<li>limit - limits how many objects the server should return (default value is <tt>100</tt>).</li>
<li>offset - how many objects the server should skip from the beginning of the returned results. Note that the server keeps the data in random order so that usage of offset implies using <tt>sort</tt> as well.</li>
<li>sort - describes how results are sorted. See <a href="https://engin.io/documentation/rest/parameters/sort">JSON sort request structure</a></li>
<li>count - if the <tt>count</tt> is set, the server will return only count of matching objects</li>
<li>include - describes which other objects are included in the response. See <a href="https://engin.io/documentation/rest/parameters/include">JSON include structure</a></li>
</ul>
<p>The JSON to list all objects of type &quot;objects.image&quot;:</p>
<pre class="cpp">{
    <span class="string">&quot;objectType&quot;</span>: <span class="string">&quot;objects.image&quot;</span>
}</pre>
<p>An example using <tt>include</tt> to get <tt>file</tt> references and with a query parameter that limits the results to only those objects where the reference is valid:</p>
<pre class="cpp">{
    <span class="string">&quot;objectType&quot;</span>: <span class="string">&quot;objects.image&quot;</span><span class="operator">,</span>
    <span class="string">&quot;include&quot;</span>: {<span class="string">&quot;file&quot;</span>: {}}<span class="operator">,</span>
    <span class="string">&quot;query&quot;</span> : { <span class="string">&quot;file&quot;</span>: { <span class="string">&quot;$ne&quot;</span>: null } }
}</pre>
<p>To find a usergroup named &quot;allUsers&quot;:</p>
<pre class="qml">var <span class="name">groupQuery</span> = <span class="name">enginioClient</span>.<span class="name">query</span>({ &quot;query&quot;: { &quot;name&quot; : <span class="string">&quot;allUsers&quot;</span> } }, <span class="name">Enginio</span>.<span class="name">UsergroupOperation</span>)</pre>
<p>Returns an <a href="qml-enginio-enginioreply.html">EnginioReply</a> containing the status and the result once it is finished.</p>
<p><b>See also </b><a href="qml-enginio-enginioreply.html">EnginioReply</a>, <a href="qml-enginio-enginioclient.html#create-method">create()</a>, <a href="qml-enginio-enginioclient.html#update-method">update()</a>, and <a href="qml-enginio-enginioclient.html#remove-method">remove()</a>.</p>
</div></div><!-- @@@query -->
<br/>
<!-- $$$remove -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlFuncNode"><p><a name="remove-method"></a><span class="type"><a href="qml-enginio-enginioreply.html">EnginioReply</a></span> <span class="name">remove</span>(<span class="type"><a href="../qtqml/qjsvalue.html">QJSValue</a></span><i> query</i>, <span class="type">Operation</span><i> operation</i>)</p></td></tr></table></div><div class="qmldoc"><p>Remove an object from the database.</p>
<p>The <i>object</i> that is to be removed is identified by its object ID and if it is a regular object also <tt>objectType</tt>.</p>
<p>The JSON that identfies an object looks like this:</p>
<pre class="cpp">{
    <span class="string">&quot;objectType&quot;</span>: <span class="string">&quot;objects.images&quot;</span><span class="operator">,</span>
    <span class="string">&quot;id&quot;</span>: <span class="string">&quot;52b1a94b5a3d8b15b1037ff5&quot;</span>
}</pre>
<p>The <i>operation</i> is the area from which the object gets removed. It defaults to Enginio::ObjectOperation to remove regular objects by default.</p>
<p>Returns an <a href="qml-enginio-enginioreply.html">EnginioReply</a> containing the status once it is finished.</p>
<p><b>See also </b><a href="qml-enginio-enginioreply.html">EnginioReply</a>, <a href="qml-enginio-enginioclient.html#create-method">create()</a>, <a href="qml-enginio-enginioclient.html#query-method">query()</a>, and <a href="qml-enginio-enginioclient.html#update-method">update()</a>.</p>
</div></div><!-- @@@remove -->
<br/>
<!-- $$$update -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlFuncNode"><p><a name="update-method"></a><span class="type"><a href="qml-enginio-enginioreply.html">EnginioReply</a></span> <span class="name">update</span>(<span class="type"><a href="../qtqml/qjsvalue.html">QJSValue</a></span><i> query</i>, <span class="type">Operation</span><i> operation</i>)</p></td></tr></table></div><div class="qmldoc"><p>Update an object in the database.</p>
<p>The <i>operation</i> is the area in which the <i>object</i> gets updated. It defaults to Enginio::ObjectOperation to update regular objects by default.</p>
<p>To change the name property of an object to &quot;New Name&quot;, use the following JSON:</p>
<pre class="cpp">{
    <span class="string">&quot;id&quot;</span>: <span class="string">&quot;objectId&quot;</span><span class="operator">,</span>
    <span class="string">&quot;objectType&quot;</span>: <span class="string">&quot;objects.objectType&quot;</span><span class="operator">,</span>
    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;New Name&quot;</span>
}</pre>
<p>All other existing properties of the object are not affected by the update.</p>
<p>To update the access control list of an object, use the following JSON:</p>
<pre class="cpp">{
    <span class="string">&quot;id&quot;</span>: <span class="string">&quot;objectId&quot;</span><span class="operator">,</span>
    <span class="string">&quot;objectType&quot;</span>: <span class="string">&quot;objects.objectType&quot;</span><span class="operator">,</span>
    <span class="string">&quot;access&quot;</span>: { <span class="string">&quot;read&quot;</span>: <span class="operator">[</span><span class="string">&quot;id&quot;</span>: <span class="string">&quot;userId&quot;</span><span class="operator">,</span> <span class="string">&quot;objectTypes&quot;</span>: <span class="string">&quot;users&quot;</span><span class="operator">]</span><span class="operator">,</span>
                <span class="string">&quot;update&quot;</span>: <span class="operator">[</span><span class="string">&quot;id&quot;</span>: <span class="string">&quot;userId&quot;</span><span class="operator">,</span> <span class="string">&quot;objectTypes&quot;</span>: <span class="string">&quot;users&quot;</span><span class="operator">]</span><span class="operator">,</span>
                <span class="string">&quot;admin&quot;</span>: <span class="operator">[</span><span class="string">&quot;id&quot;</span>: <span class="string">&quot;userId&quot;</span><span class="operator">,</span> <span class="string">&quot;objectTypes&quot;</span>: <span class="string">&quot;users&quot;</span><span class="operator">]</span> }
}</pre>
<p>Returns an <a href="qml-enginio-enginioreply.html">EnginioReply</a> containing the status once it is finished.</p>
<p><b>See also </b><a href="qml-enginio-enginioreply.html">EnginioReply</a>, <a href="qml-enginio-enginioclient.html#create-method">create()</a>, <a href="qml-enginio-enginioclient.html#query-method">query()</a>, and <a href="qml-enginio-enginioclient.html#remove-method">remove()</a>.</p>
</div></div><!-- @@@update -->
<br/>
<!-- $$$uploadFile -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr valign="top" class="odd"><td class="tblQmlFuncNode"><p><a name="uploadFile-method"></a><span class="type"><a href="qml-enginio-enginioreply.html">EnginioReply</a></span> <span class="name">uploadFile</span>(<span class="type"><a href="../qtqml/qjsvalue.html">QJSValue</a></span><i> object</i>, <span class="type"><a href="../qtcore/qurl.html">QUrl</a></span><i> file</i>)</p></td></tr></table></div><div class="qmldoc"><p>Stores a <i>file</i> attached to an <i>object</i> in Enginio</p>
<p>Each uploaded file needs to be associated with an object in the database.</p>
<p><b>Note: </b>The upload will only work with the propper server setup: in the dashboard create a property of the type that you will use. Set this property to be a reference to files.</p><p>In order to upload a file, first create an object:</p>
<pre class="qml">var <span class="name">fileObject</span> = {
    &quot;objectType&quot;: <span class="name">AppConfig</span>.<span class="name">testObjectType</span>,
    &quot;title&quot;: <span class="string">&quot;Example object with file attachment&quot;</span>,
}
var <span class="name">reply</span> = <span class="name">enginio</span>.<span class="name">create</span>(<span class="name">fileObject</span>);</pre>
<p>Then do the actual upload:</p>
<pre class="qml">var <span class="name">objectId</span> = <span class="name">reply</span>.<span class="name">data</span>.<span class="name">id</span>
var <span class="name">uploadData</span> = {
    &quot;file&quot;:{
        &quot;fileName&quot;:<span class="string">&quot;test.png&quot;</span>
    },
    &quot;targetFileProperty&quot;: {
        &quot;objectType&quot;: <span class="name">AppConfig</span>.<span class="name">testObjectType</span>,
        &quot;id&quot;: <span class="name">objectId</span>,
        &quot;propertyName&quot;: <span class="string">&quot;fileAttachment&quot;</span>
    },
}
var <span class="name">uploadReply</span> = <span class="name">enginio</span>.<span class="name">uploadFile</span>(<span class="name">uploadData</span>, <span class="name">fileName</span>)</pre>
<p>Note: There is no need to directly delete files. Instead when the object that contains the link to the file gets deleted, the file will automatically be deleted as well.</p>
<p><b>See also </b><a href="qml-enginio-enginioclient.html#downloadUrl-method">downloadUrl()</a>.</p>
</div></div><!-- @@@uploadFile -->
<br/>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2014 Digia Plc and/or its
   subsidiaries. Documentation contributions included herein are the copyrights of
   their respective owners.<br>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br>    Digia, Qt and their respective logos are trademarks of Digia Plc     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
